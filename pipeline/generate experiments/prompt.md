Create a scenario-based question to teach clean coding principles to a development team. The question should include a realistic initial code snippet that violates clean coding principles, followed by a series of step-by-step tasks asking participants to refactor the code while adhering to clean coding practices. The tasks should include breaking the code into smaller functions, improving naming conventions, handling errors gracefully, and writing unit tests. Ensure the scenario is practical and easy to understand for developers.